# Redis development configuration
# Optimized for development environments with verbose logging and persistence disabled

# Network configuration
port 6379
bind 127.0.0.1
tcp-backlog 511
timeout 0
tcp-keepalive 300

# General configuration
daemonize no
pidfile /tmp/redis-dev.pid
loglevel verbose
logfile /tmp/logs/redis-dev.log
databases 16

# Persistence (disabled for development)
save ""
stop-writes-on-bgsave-error no
rdbcompression no
rdbchecksum no
dbfilename dump-dev.rdb
dir ./

# Replication
# replica-serve-stale-data yes
# replica-read-only yes

# Security
# requirepass foobared

# Memory management
maxmemory 256mb
maxmemory-policy allkeys-lru

# Lazy freeing
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
lazyfree-lazy-server-del yes

# Threaded I/O
# io-threads 4
# io-threads-do-reads yes

# Kernel OOM control
oom-score-adj no

# Disable protected mode for development
protected-mode no

# Append only file (disabled for development)
appendonly no

# Pub/Sub
notify-keyspace-events ""

# Hash configuration
hash-max-ziplist-entries 512
hash-max-ziplist-value 64

# List configuration
list-max-ziplist-size -2
list-compress-depth 0

# Set configuration
set-max-intset-entries 512

# Sorted set configuration
zset-max-ziplist-entries 128
zset-max-ziplist-value 64

# HyperLogLog
hll-sparse-max-bytes 3000

# Streams
stream-node-max-bytes 4kb
stream-node-max-entries 100

# Active rehashing
activerehashing yes

# Client output buffer limits
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 256mb 64mb 60
client-output-buffer-limit pubsub 32mb 8mb 60

# Client query buffer limit
client-query-buffer-limit 1gb

# Protocol buffer limit  
proto-max-bulk-len 512mb

# Frequency of running background tasks
hz 10

# Enable dynamic HZ
dynamic-hz yes

# AOF rewrite
aof-rewrite-incremental-fsync yes

# RDB checksum
rdb-save-incremental-fsync yes

# LFU configuration
lfu-log-factor 10
lfu-decay-time 1